<!DOCTYPE html>
<html lang="en">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <style>
    circle {
      fill: purple;
      stroke: black;
    }
  </style>
  <body onload="init()">
    <form action="/index.html">
      <button type="submit">Scene 1</button>
    </form>
    <form action="/scene2.html">
      <button type="submit">Scene 2</button>
    </form>
    <svg id="scatter3"></svg>
    <script>
      async function init() {
        var x = d3.scaleLog().base(10).domain([10, 150]).range([0, 200]);

        var y = d3.scaleLog().base(10).domain([10, 150]).range([200, 0]);

        const data = await d3.csv("https://melindatsay.github.io/cars2017.csv");

        // Append SVG Object to the Page
        const svg = d3
          .select("#scatter3")
          .append("svg")
          .append("g")
          .attr("width", 300)
          .attr("height", 400)
          .attr("transform", "translate(50,50)");

        svg
          .append("g")
          //   .attr("transform", "translate(50,50)")
          .call(
            d3
              .axisLeft(y)
              .tickValues([10, 20, 50, 100])
              .tickFormat(d3.format("~s"))
          );

        svg
          .append("g")
          .attr("transform", "translate(0,200)")
          .call(
            d3
              .axisBottom(x)
              .tickValues([10, 20, 50, 100])
              .tickFormat(d3.format("~s"))
          );

        svg
          .selectAll("circle")
          .data(data)
          .enter()
          .append("circle")
          .attr("cx", function (d) {
            return x(d.AverageCityMPG);
          })
          .attr("cy", function (d) {
            return y(d.AverageHighwayMPG);
          })
          .attr("r", function (d) {
            return 2 + parseInt(d.EngineCylinders);
          });
      }
    </script>
  </body>
</html>
